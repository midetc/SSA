У FreeBSD немає готового пакету jemalloc у стандартних репозиторіях, тому ми імітували його за допомогою «заглушок» je_malloc і je_free. Ці функції зараз просто викликають звичайні malloc та free із libc, але зберігають той самий інтерфейс xmalloc/xfree у вашій програмі. Завдяки цьому код без змін компілюється й працює на будь‑якій системі: у реальному середовищі з jemalloc ви підключите його бібліотеку, а xmalloc/xfree почнуть викликати справжні je_malloc/je_free, і програма отримає всі переваги jemalloc. Таким чином, єдиний код xmalloc/xfree забезпечує гнучкість та сумісність без зайвих правок.