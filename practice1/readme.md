# Програма на C та C++ з багатопоточністю та асинхронним I/O

Цей проект демонструє просту реалізацію багатопоточності та асинхронного вводу/виводу в мовах C та C++. Проект розділено на два варіанти:

- **C-версія:**  
  Використовує OpenMP для паралельного виконання (директива `#pragma omp parallel for`) та POSIX асинхронний I/O для читання файлу `data.txt` (через `aio_read`). Для лінкування використовується бібліотека `librt` (прапорець `-lrt`).

- **C++-версія:**  
  Створює потоки за допомогою `std::thread`. Один потік займається асинхронним читанням файлу `data.txt`, а інші демонструють роботу потоків, виводячи повідомлення.

(Перед запуском обов’язково у директорії проекту повинен бути файл `data.txt` з тестовими даними.)

---

## Опис

У проекті реалізовано два підходи до організації багатопоточності та асинхронного вводу/виводу:

- **C-версія:**  
  У файлах `main.c`, `module1.c` та `module2.c` демонструється, як за допомогою OpenMP можна розпаралелити виконання циклів, а за допомогою POSIX AIO – читати дані з файлу асинхронно.

- **C++-версія:**  
  У файлах `main.cpp`, `module1.cpp` та `module2.cpp` показано, як створювати та керувати потоками через `std::thread`, де один потік відповідає за асинхронне читання файлу, а інші – за вивід інформації.

## Клонування
    git clone https://github.com/midetc/SSA.git
    
    cd SSA/practice1
    
    
## Компіляція та запуск

### C-версія

1. **Компіляція:**

       gcc -fopenmp main.c module1.c module2.c -o openmp_program -lrt
3. **Запуск:**

       ./openmp_program

### C++-версія
1. **Компіляція:**
    
        g++ main.cpp module1.cpp module2.cpp -o cpp_program -pthread
2. **Запуск:**

       ./cpp_program

## Використання

 C-версія:
   Програма openmp_program демонструє роботу паралельних потоків за допомогою OpenMP, а також асинхронне читання файлу data.txt. Вивід містить повідомлення від кожного потоку та результат асинхронного читання.

 C++-версія:
   Програма cpp_program створює кілька потоків. Один потік асинхронно читає файл, а інші виводять свої повідомлення, демонструючи роботу з std::thread.


## Valgrind для аналізу
  
    valgrind --leak-check=full ./name_program

## Функції
 ### C-версія

  main (main.c):
  Викликає функції з модулів module1 та module2 для демонстрації роботи багатопоточності та асинхронного I/O.

  module1_function (module1.c):
  Виконує паралельний цикл за допомогою OpenMP. Кожен потік виводить повідомлення із своїм ідентифікатором та номером ітерації.

  module2_function (module2.c):
  Здійснює асинхронне читання файлу data.txt за допомогою aio_read та виводить вміст файлу після завершення операції.

### C++-версія

  main (main.cpp):
  Створює потоки для виклику функцій з модулів, що демонструють роботу багатопоточності.

  module1_function (module1.cpp):
  Створює декілька потоків за допомогою std::thread, де кожен потік виводить повідомлення з власним номером.

  module2_function (module2.cpp):
  Запускає окремий потік для асинхронного читання файлу data.txt з затримкою, що імітує обробку даних.
